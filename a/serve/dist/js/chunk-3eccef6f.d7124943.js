(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eccef6f"],{"116d":function(e,t,a){"use strict";a("9a3e")},"1dde":function(e,t,a){var n=a("d039"),o=a("b622"),r=a("2d00"),i=o("species");e.exports=function(e){return r>=51||!n((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6511:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"home-head"},[n("canvas",{ref:"canvasTime",attrs:{id:"canvasTime"}},[e._v("当前浏览器不支持canvas，请更换浏览器后再试")]),"success"==e.locationFlag?n("div",{staticClass:"home-head-weather d-flex flex-column jc-around ai-start"},[n("div",{staticClass:"home-head-weather-top d-flex jc-start ai-end"},[n("div",{staticClass:"home-head-weather-top-temperature"},[e._v(e._s(e.weatherData.temperature)+"℃")]),n("div",{staticClass:"home-head-weather-top-city"},[e._v(e._s(e.weatherData.city))])]),n("div",{staticClass:"home-head-weather-bottom d-flex ai-end"},[n("div",{staticClass:"home-head-weather-bottom-weather"},[e._v(e._s(e.weatherData.weather))]),n("div",{staticClass:"home-head-weather-bottom-windpower d-flex"},[n("div",[e._v("风力 "+e._s(e.weatherData.windpower))]),n("div",[e._v("湿度 "+e._s(e.weatherData.humidity))])])])]):e._e(),"error"==e.locationFlag?n("div",{staticClass:"home-head-weather"},[e._v("定位失败")]):e._e(),"wait"==e.locationFlag?n("div",{staticClass:"home-head-weather"},[e._v("定位中...")]):e._e(),"addressError"==e.locationFlag?n("div",{staticClass:"home-head-weather"},[e._v("该地址不存在")]):e._e(),n("div",{staticClass:"home-head-search d-flex ai-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.citySearch,expression:"citySearch"}],staticClass:"text-center",attrs:{type:"text",placeholder:"输入城市"},domProps:{value:e.citySearch},on:{input:function(t){t.target.composing||(e.citySearch=t.target.value)}}}),n("button",{on:{click:function(t){return e.getLocationWeather(e.citySearch)}}},[e._v("确定")])])]),n("div",{staticClass:"home-menu-mask"}),n("div",{ref:"homeMenu",staticClass:"home-menu"},[n("div",{staticClass:"home-menu-list d-flex jc-start ai-center w"},[e._l(e.menuList,(function(t,a){return n("div",{key:a,staticClass:"home-menu-list-item text-center pointSB text-ellipsis",class:e.$route.path==t.url?"active":"",on:{click:function(n){return e.handleClickMenu(a,t.url,n)},mouseenter:function(t){return e.handleMouseEnterAnimate(a,t)},mouseleave:function(t){return e.handleMouseLeaveAnimate(a,t)}}},[e._v(e._s(t.name))])})),n("div",{ref:"homeBk",staticClass:"home-menu-bk positionTopLeft"}),n("div",{staticClass:"home-menu-login positionTopRight pointSB"},[e.tyqUser&&e.tyqUser.avator?n("img",{attrs:{src:e.tyqUser.avator},on:{click:function(t){e.loginFlag=!e.loginFlag}}}):n("img",{attrs:{src:a("cf05")},on:{click:function(t){e.loginFlag=!e.loginFlag}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loginFlag,expression:"loginFlag"}],staticClass:"home-menu-login-box"},[n("div",{staticClass:"home-menu-login-box-loginout text-ellipsis",on:{click:e.handleClickLoginOut}},[e._v("退出登录")])])])],2)]),n("div",{staticClass:"home-box w"},[n("div",{staticStyle:{width:"200px",height:"30px",background:"#E7753A",margin:"10px auto","line-height":"30px",color:"#ffffff"},on:{click:function(t){return e.$router.push("/login")}}},[e._v("登录")]),e.tyqUser&&e.tyqToken?n("div",{staticStyle:{height:"50px",background:"#E7753A"}},[e._v("已登录")]):n("div",{staticStyle:{height:"50px",background:"#E7753A"}},[e._v("未登录")]),n("router-view")],1)])},o=[],r=(a("99af"),a("cb29"),a("c975"),a("d81d"),a("ac1f"),a("9c9e")),i={mixins:[r["a"]],data:function(){return{loginFlag:!1,citySearch:"",menuList:[{name:"首页",url:"/home/index"},{name:"心情随笔",url:"/home/mood"},{name:"过往故事",url:"/home/story"},{name:"技术分享",url:"/home/share"},{name:"Blog留言",url:"/home/liuyan"},{name:"关于我",url:"/home/about"},{name:"Me",url:"/me"}],digit:[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],colorArray:["#fff"],canvasTimer:null,weatherData:"",addressData:"",tempdata:"",locationFlag:"wait"}},methods:{handleClickMenu:function(e,t,a){var n=this;n.animate(n.$refs.homeBk,n.handleGetArrIndex(t)),n.$router.push(t)},handleGetArrIndex:function(e){var t=this;return t.menuList.map((function(e){return e.url})).indexOf(e)},handleMouseEnterAnimate:function(e,t){var a=this;a.animate(a.$refs.homeBk,e)},handleMouseLeaveAnimate:function(e,t){var a=this;a.animate(a.$refs.homeBk,a.handleGetArrIndex(a.$route.path))},handleCanvasTime:function(){var e=this,t=e.$refs.canvasTime,a=t.getContext("2d");t.width=t.scrollWidth,t.height=t.scrollHeight;var n=t.width<400?9:13,o=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),r=[];r.push(o[1],o[2],10,o[3],o[4],10,o[5],o[6]);for(var i=0;i<=o.length;i++)e.handleOneNum(t,a,i,r[i],n)},handleOneNum:function(e,t,a,n,o){for(var r=this,i=e.height/20-1,s=0;s<r.digit[n].length;s++)for(var c=0;c<r.digit[n][s].length;c++)1==r.digit[n][s][c]&&(t.beginPath(),t.fillStyle=r.colorArray[Math.floor(Math.random()*r.colorArray.length)],t.arc(o*(i+2)*a+2*c*(i+1)+(i+1),2*s*(i+1)+(i+1),i<1?1:2.3,0,2*Math.PI),t.closePath(),t.fill())},animate:function(e,t,a){var n=this;t*=n.$refs.homeBk.offsetWidth,clearInterval(e.timer),e.timer=setInterval((function(){var n=(t-e.offsetLeft)/10;n=n>0?Math.ceil(n):Math.floor(n),e.offsetLeft==Math.abs(t)&&(clearInterval(e.timer),a&&a()),e.style.left=e.offsetLeft+n+"px"}),15)},getLocationPC:function(){var e=this;e.$http.get("https://restapi.amap.com/v3/ip?ip=".concat(localStorage.getItem("tyqIp"),"&key=").concat(localStorage.getItem("tyqKKK"))).then((function(t){"1"==t.data.status?e.getLocationWeather(t.data.adcode):e.locationFlag="error",e.addressData=t.data,console.log(t,"addressData")}))},getLocationWeather:function(e){var t=this;t.$http.get("https://restapi.amap.com/v3/weather/weatherInfo?city=".concat(e,"&key=").concat(localStorage.getItem("tyqKKK"),"&extensions=base")).then((function(e){if("1"!=e.data.status)return t.locationFlag="error",!1;t.locationFlag="success",0==e.data.count&&(t.locationFlag="addressError"),t.weatherData=e.data.lives[0],t.citySearch=t.weatherData.city,console.log(e,"weatherData")}))},getLocationPhone:function(){var e,t=this;AMap.plugin("AMap.Geolocation",(function(){function a(e){console.log("定位成功信息：",e),t.$http.get("https://restapi.amap.com/v3/geocode/regeo?key=".concat(localStorage.getItem("tyqKKK"),"&location=").concat(e.position.lng+","+e.position.lat)).then((function(e){"1"==e.data.status?t.getLocationWeather(e.data.regeocode.addressComponent.city):t.locationFlag="error"}))}function n(e){console.log("定位失败错误：",e),t.locationFlag="error"}e=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!0,showCircle:!0,panToLocation:!0,zoomToAccuracy:!0}),e.getCurrentPosition(),AMap.event.addListener(e,"complete",a),AMap.event.addListener(e,"error",n)}))},handleClickLoginOut:function(){var e=this;localStorage.removeItem("tyqUser"),localStorage.removeItem("tyqToken"),e.$router.push("/login")}},created:function(){},mounted:function(){var e=this;e.handleCanvasTime(),e.canvasTimer=setInterval((function(){e.handleCanvasTime()}),1e3);var t=e.handleGetArrIndex(e.$route.path);e.$refs.homeBk.style.left=t*e.$refs.homeBk.offsetWidth+"px",e.$nextTick((function(){e.phoneFlag?e.getLocationPhone():e.getLocationPC()})),console.log(e.$refs.homeMenu.offsetTop,"top");var a=e.$refs.homeMenu.offsetTop;window.addEventListener("scroll",(function(){window.pageYOffset>a?(e.$refs.homeMenu.style.position="fixed",e.$refs.homeMenu.style.top="0px"):(e.$refs.homeMenu.style.position="absolute",e.$refs.homeMenu.style.top=a+"px")}))},beforeDestroy:function(){var e=this;e.canvasTimer=null,e.handleCanvasTime=function(){}}},s=i,c=(a("116d"),a("2877")),l=Object(c["a"])(s,n,o,!1,null,"23d8e684",null);t["default"]=l.exports},"65f0":function(e,t,a){var n=a("861d"),o=a("e8b5"),r=a("b622"),i=r("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"81d5":function(e,t,a){"use strict";var n=a("7b0b"),o=a("23cb"),r=a("50c4");e.exports=function(e){var t=n(this),a=r(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,a),c=i>2?arguments[2]:void 0,l=void 0===c?a:o(c,a);while(l>s)t[s++]=e;return t}},8418:function(e,t,a){"use strict";var n=a("c04e"),o=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var i=n(t);i in e?o.f(e,i,r(0,a)):e[i]=a}},9263:function(e,t,a){"use strict";var n=a("ad6d"),o=a("9f7f"),r=RegExp.prototype.exec,i=String.prototype.replace,s=r,c=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=o.UNSUPPORTED_Y||o.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(s=function(e){var t,a,o,s,d=this,h=l&&d.sticky,f=n.call(d),m=d.source,v=0,g=e;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,v++),a=new RegExp("^(?:"+m+")",f)),u&&(a=new RegExp("^"+m+"$(?!\\s)",f)),c&&(t=d.lastIndex),o=r.call(h?a:d,g),h?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:c&&o&&(d.lastIndex=d.global?o.index+o[0].length:t),u&&o&&o.length>1&&i.call(o[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o}),e.exports=s},"99af":function(e,t,a){"use strict";var n=a("23e7"),o=a("d039"),r=a("e8b5"),i=a("861d"),s=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),h=a("b622"),f=a("2d00"),m=h("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",p=f>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),x=d("concat"),y=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:r(e)},w=!p||!x;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,a,n,o,r,i=s(this),d=u(i,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?i:arguments[t],y(r)){if(o=c(r.length),h+o>v)throw TypeError(g);for(a=0;a<o;a++,h++)a in r&&l(d,h,r[a])}else{if(h>=v)throw TypeError(g);l(d,h++,r)}return d.length=h,d}})},"9a3e":function(e,t,a){},"9c9e":function(e,t,a){"use strict";a("c975");var n={data:function(){return{tyqUser:"",phoneFlag:!1}},created:function(){var e=this,t=JSON.parse(localStorage.getItem("tyqUser"));e.tyqUser=t||"",e.tyqToken=localStorage.getItem("tyqToken"),console.log(e.tyqUser,"----tyqUser----");for(var a=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),o=0;o<n.length;o++)-1!=a.indexOf(n[o])&&(console.log("移动端"),e.phoneFlag=!0)},mounted:function(){},methods:{}};t["a"]=n},"9f7f":function(e,t,a){"use strict";var n=a("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),o=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,a){var n=a("0366"),o=a("44ad"),r=a("7b0b"),i=a("50c4"),s=a("65f0"),c=[].push,l=function(e){var t=1==e,a=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d;return function(f,m,v,g){for(var p,x,y=r(f),w=o(y),b=n(m,v,3),C=i(w.length),k=0,A=g||s,I=t?A(f,C):a?A(f,0):void 0;C>k;k++)if((h||k in w)&&(p=w[k],x=b(p,k,y),e))if(t)I[k]=x;else if(x)switch(e){case 3:return!0;case 5:return p;case 6:return k;case 2:c.call(I,p)}else if(u)return!1;return d?-1:l||u?u:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},cb29:function(e,t,a){var n=a("23e7"),o=a("81d5"),r=a("44d2");n({target:"Array",proto:!0},{fill:o}),r("fill")},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},d81d:function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").map,r=a("1dde"),i=a("ae40"),s=r("map"),c=i("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-3eccef6f.d7124943.js.map