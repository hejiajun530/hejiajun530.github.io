{"version":3,"sources":["webpack:///./src/views/me/info.vue?9680","webpack:///./src/views/me/info.vue?b041","webpack:///src/views/me/info.vue","webpack:///./src/views/me/info.vue?5c55","webpack:///./src/views/me/info.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","tyqUser","avator","attrs","_e","on","handleGetUploadList","directives","name","rawName","value","expression","domProps","$event","target","composing","$set","handleClickEditUser","staticRenderFns","mixins","components","upload","data","methods","console","log","file","formData","append","get","$http","post","then","res","url","created","mounted","component"],"mappings":"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","file":"js/chunk-ff174130.2c7b36b7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=5b3d177c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('h3',{staticClass:\"positionTopLeft me-title\"},[_vm._v(\"修改个人信息\")]),_c('div',{staticClass:\"info-edit d-flex flex-column\"},[_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"修改头像\")]),_c('div',{staticClass:\"info-edit-item-content d-flex jc-start ai-center\"},[(_vm.tyqUser && _vm.tyqUser.avator)?_c('img',{staticClass:\"avator\",attrs:{\"src\":_vm.tyqUser.avator}}):_vm._e(),_c('g-upload',{on:{\"g-uploadList\":_vm.handleGetUploadList}})],1)]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"修改用户名\")]),_c('div',{staticClass:\"info-edit-item-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tyqUser.username),expression:\"tyqUser.username\"}],staticClass:\"me-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.tyqUser.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tyqUser, \"username\", $event.target.value)}}})])]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"个性标签\")]),_c('div',{staticClass:\"info-edit-item-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tyqUser.tips),expression:\"tyqUser.tips\"}],staticClass:\"me-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入个性标签\"},domProps:{\"value\":(_vm.tyqUser.tips)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tyqUser, \"tips\", $event.target.value)}}})])]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"邮箱\")]),_c('div',{staticClass:\"info-edit-item-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tyqUser.email),expression:\"tyqUser.email\"}],staticClass:\"me-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入邮箱\"},domProps:{\"value\":(_vm.tyqUser.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tyqUser, \"email\", $event.target.value)}}})])]),_c('div',{staticClass:\"info-edit-item\"},[_c('button',{staticClass:\"me-button pointSB\",on:{\"click\":_vm.handleClickEditUser}},[_vm._v(\"提交\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"info\">\r\n    <h3 class=\"positionTopLeft me-title\">修改个人信息</h3>\r\n    <div class=\"info-edit d-flex flex-column\">\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">修改头像</div>\r\n        <div class=\"info-edit-item-content d-flex jc-start ai-center\">\r\n          <img\r\n            :src=\"tyqUser.avator\"\r\n            v-if=\"tyqUser && tyqUser.avator\"\r\n            class=\"avator\"\r\n          >\r\n          <g-upload @g-uploadList=\"handleGetUploadList\"></g-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">修改用户名</div>\r\n        <div class=\"info-edit-item-content\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"tyqUser.username\"\r\n            placeholder=\"请输入用户名\"\r\n            class=\"me-input\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">个性标签</div>\r\n        <div class=\"info-edit-item-content\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"tyqUser.tips\"\r\n            placeholder=\"请输入个性标签\"\r\n            class=\"me-input\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">邮箱</div>\r\n        <div class=\"info-edit-item-content\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"tyqUser.email\"\r\n            placeholder=\"请输入邮箱\"\r\n            class=\"me-input\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <button\r\n          class=\"me-button pointSB\"\r\n          @click=\"handleClickEditUser\"\r\n        >提交</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport upload from '@/components/upload/index';\r\nimport mixin from '@/mixins';\r\nexport default {\r\n  mixins: [mixin],\r\n  components: {\r\n    'g-upload': upload\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    // 获取upload的数组\r\n    handleGetUploadList(file) {\r\n      var _self = this;\r\n      console.log(file);\r\n      let formData = new FormData();\r\n      formData.append('file', file);\r\n      console.log(formData.get('file'), '----------');\r\n      _self.$http.post('/upload', formData).then(res => {\r\n        console.log(res.data.url);\r\n        _self.$set(_self.tyqUser, 'avator', res.data.url);\r\n      });\r\n    },\r\n    // 修改用户信息\r\n    async handleClickEditUser() {\r\n      var _self = this;\r\n      if (!_self.tyqUser.username) {\r\n        _self.$gMessage({\r\n          title: '用户名不能为空!',\r\n          duration: 2000,\r\n          type: 'error'\r\n        });\r\n        return false;\r\n      }\r\n      console.log(_self.tyqUser);\r\n      let res = await _self.$http.post('/editUser', _self.tyqUser);\r\n      if (res.data.affectedRows == 1) {\r\n        _self.$http\r\n          .get('/getUserById?userid=' + _self.tyqUser.userid)\r\n          .then(result => {\r\n            console.log(result);\r\n            _self.tyqUser = result.data[0];\r\n            localStorage.setItem('tyqUser', JSON.stringify(result.data[0]));\r\n            _self.$parent.tyqUser = JSON.parse(localStorage.getItem('tyqUser'));\r\n          });\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    var _self = this;\r\n    // console.log(_self);\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.info {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 3.125rem 0 0 0;\r\n  overflow-y: scroll;\r\n  /* 火狐滚动条隐藏 */\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n  // 谷歌滚动条隐藏\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n}\r\n.avator {\r\n  width: 5rem;\r\n  height: 5rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=5b3d177c&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=5b3d177c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b3d177c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}