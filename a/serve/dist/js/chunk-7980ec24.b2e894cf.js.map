{"version":3,"sources":["webpack:///./src/views/other/story.vue?fab7","webpack:///./src/views/other/story.vue?7ae3","webpack:///src/views/other/story.vue","webpack:///./src/views/other/story.vue?bcb1","webpack:///./src/views/other/story.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","articleList","total","on","handleClickChangePage","staticRenderFns","_v","mixins","components","pageing","articlelist","data","query","page","num","userid","methods","$set","$http","post","then","console","log","res","flag","forEach","item","content","Math","ceil","$gMessage","title","duration","type","created","mounted","component"],"mappings":"yIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,cAAc,CAACI,MAAM,CAAC,YAAcR,EAAIS,eAAeL,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,IAAMR,EAAIU,OAAOC,GAAG,CAAC,YAAYX,EAAIY,0BAA0B,IAAI,MAClYC,EAAkB,CAAC,WAAa,IAAIb,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACN,EAAIc,GAAG,c,wFCuB1O,GACEC,OAAQ,CAAC,EAAX,MACEC,WAAY,CACV,YAAaC,EAAjB,KACIC,YAAJ,QAEEC,KANF,WAOI,MAAO,CACLV,YAAa,GACbW,MAAO,CACLC,KAAM,EACNC,IAAK,EACLC,OAAQ,IAEVb,MAAO,IAGXc,QAAS,CAEPZ,sBAFJ,SAEA,GAEM,IAAIP,EAAQJ,KAEZI,EAAMoB,KAAKpB,EAAMe,MAAO,OAAQE,GAEhCjB,EAAMqB,MAAMC,KAAK,uBAAwBtB,EAAMe,OAAOQ,MAAK,SAAjE,GAEQ,GADAC,QAAQC,IAAIC,EAAIZ,MACXY,EAAIZ,KAAKa,KAMtB,CACU,IAAV,0BACUD,EAAIZ,KAAKY,IAAIE,SAAQ,SAA/B,KAGYC,EAAKC,QACjB,oBACA,UACA,cACA,aACA,cACA,2BAEU9B,EAAMI,YAAcsB,EAAIZ,KAAKY,IAC7B1B,EAAMK,MAAQ0B,KAAKC,KAAKN,EAAIZ,KAAKT,MAAM,GAAGA,MAAQL,EAAMe,MAAME,UAnB9DjB,EAAMiC,UAAU,CACdC,MAAO,WACPC,SAAU,IACVC,KAAM,eAsBhBC,QArDF,WAsDI,IAAIrC,EAAQJ,KACZI,EAAMO,sBAAsB,IAE9B+B,QAzDF,cCxB8V,I,wBCQ1VC,EAAY,eACd,EACA7C,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAA+B,E","file":"js/chunk-7980ec24.b2e894cf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=style&index=0&id=6038beb5&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"story\"},[_vm._m(0),_c('div',{staticClass:\"homeindex-articlelist\"},[_c('articlelist',{attrs:{\"articlelist\":_vm.articleList}}),_c('div',{staticClass:\"homeindex-articlelist-pageing\"},[_c('g-pageing',{attrs:{\"num\":_vm.total},on:{\"g-getpage\":_vm.handleClickChangePage}})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"articlelist-title d-flex jc-between ai-center\"},[_c('div',{staticClass:\"articlelist-title-left\"},[_vm._v(\"过往故事\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"story\">\r\n    <!-- 过往故事标题 -->\r\n    <div class=\"articlelist-title d-flex jc-between ai-center\">\r\n      <div class=\"articlelist-title-left\">过往故事</div>\r\n      <!-- <div class=\"articlelist-title-right\">过往故事(11) 技术分享(156)</div> -->\r\n    </div>\r\n    <!-- 过往故事 文章列表 -->\r\n    <div class=\"homeindex-articlelist\">\r\n      <articlelist :articlelist=\"articleList\"></articlelist>\r\n      <div class=\"homeindex-articlelist-pageing\">\r\n        <g-pageing\r\n          :num=\"total\"\r\n          @g-getpage=\"handleClickChangePage\"\r\n        ></g-pageing>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pageing from '@/components/pageing/index.vue';\r\nimport articlelist from './article/articlelist';\r\nimport mixin from '@/mixins';\r\nexport default {\r\n  mixins: [mixin],\r\n  components: {\r\n    'g-pageing': pageing,\r\n    articlelist\r\n  },\r\n  data() {\r\n    return {\r\n      articleList: [],\r\n      query: {\r\n        page: 1,\r\n        num: 1,\r\n        userid: ''\r\n      },\r\n      total: 1\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取改变的页码\r\n    handleClickChangePage(num) {\r\n      // 使用$emit传值,用形参接收\r\n      var _self = this;\r\n      // console.log(num);\r\n      _self.$set(_self.query, 'page', num);\r\n      // _self.$set(_self.query, 'userid', _self.tyqUser.userid);\r\n      _self.$http.post('/getArticleListStory', _self.query).then(res => {\r\n        console.log(res.data);\r\n        if (!res.data.flag) {\r\n          _self.$gMessage({\r\n            title: '文章列表获取失败',\r\n            duration: 2000,\r\n            type: 'error'\r\n          });\r\n        } else {\r\n          const reg = /(<\\/?.+?\\/?>|&nbsp;)/g;\r\n          res.data.res.forEach((item, index) => {\r\n            // console.log(item.content);\r\n            // 把所有的标签都删除，并且长度超过90，只取90个字符+'...'\r\n            item.content =\r\n              item.content.length > 90\r\n                ? item.content\r\n                    .replace(reg, '')\r\n                    .substr(0, 90)\r\n                    .concat('...')\r\n                : item.content.replace(reg, '');\r\n          });\r\n          _self.articleList = res.data.res;\r\n          _self.total = Math.ceil(res.data.total[0].total / _self.query.num);\r\n          // console.log(_self.total, 'total');\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    var _self = this;\r\n    _self.handleClickChangePage(1);\r\n  },\r\n  mounted() {\r\n    var _self = this;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.story {\r\n  padding: 0 10px;\r\n  .articlelist-title {\r\n    border-bottom: 0.3125rem solid orangered;\r\n    padding: 0.625rem 0;\r\n    .articlelist-title-left {\r\n      font-size: 1.25rem;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n  .homeindex-articlelist {\r\n    margin: 1.25rem 0 0 0;\r\n    .homeindex-articlelist-pageing {\r\n      margin: 1.25rem 0;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./story.vue?vue&type=template&id=6038beb5&scoped=true&\"\nimport script from \"./story.vue?vue&type=script&lang=js&\"\nexport * from \"./story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./story.vue?vue&type=style&index=0&id=6038beb5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6038beb5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}