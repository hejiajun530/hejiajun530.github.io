(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-285b13f7"],{"0c31":function(t,e,i){"use strict";i("75d2")},"323a":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"music text-left"},[i("h3",{staticClass:"positionTopLeft me-title"},[t._v("上传歌曲")]),i("div",{staticClass:"info-edit d-flex flex-column"},[i("div",{staticClass:"info-edit-item"},[i("div",{staticClass:"info-edit-item-label"},[t._v("歌曲名称")]),i("div",{staticClass:"info-edit-item-content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.title,expression:"model.title"}],staticClass:"me-input",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.model.title},on:{input:function(e){e.target.composing||t.$set(t.model,"title",e.target.value)}}})])]),i("div",{staticClass:"info-edit-item"},[i("div",{staticClass:"info-edit-item-label"},[t._v("演唱者")]),i("div",{staticClass:"info-edit-item-content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.auther,expression:"model.auther"}],staticClass:"me-input",attrs:{type:"text",placeholder:"请输入个性标签"},domProps:{value:t.model.auther},on:{input:function(e){e.target.composing||t.$set(t.model,"auther",e.target.value)}}})])]),i("div",{staticClass:"info-edit-item"},[i("div",{staticClass:"info-edit-item-label"},[t._v("歌曲文件")]),i("div",{staticClass:"info-edit-item-content d-flex jc-start ai-center"},[i("g-upload",{attrs:{type:"2"},on:{"g-uploadList":t.handleGetUploadList}})],1)]),i("div",{staticClass:"info-edit-item"},[i("div",{staticClass:"info-edit-item-label"},[t._v("歌曲封面")]),i("div",{staticClass:"info-edit-item-content d-flex jc-start ai-center"},[t.model&&t.model.text?i("img",{staticClass:"avator",attrs:{src:t.model.text}}):t._e(),i("g-upload",{on:{"g-uploadList":t.handleGetUploadListImg}})],1)]),i("div",{staticClass:"info-edit-item"},[i("button",{staticClass:"me-button pointSB",on:{click:t.handleClickUploadMusic}},[t._v("提交")])])])])},a=[],l=i("decf"),s={components:{"g-upload":l["a"]},data:function(){return{model:{title:"",auther:"",content:"",text:""}}},created:function(){},mounted:function(){},methods:{handleGetUploadList:function(t){var e=this;console.log(t);var i=new FormData;i.append("file",t),console.log(i.get("file"),"----------"),e.$http.post("/upload",i).then((function(t){console.log(t.data.url),e.$set(e.model,"content",t.data.url)}))},handleGetUploadListImg:function(t){var e=this;console.log(t);var i=new FormData;i.append("file",t),console.log(i.get("file"),"----------"),e.$http.post("/upload",i).then((function(t){console.log(t.data.url),e.$set(e.model,"text",t.data.url)}))},handleClickUploadMusic:function(){var t=this;if(!t.model.title||!t.model.auther||!t.model.content)return t.$gMessage({title:"不能为空",duration:2e3,type:"error"}),!1;console.log(t.model),t.$http.post("/addMusic",t.model).then((function(e){console.log(e),e.data.res.affectedRows?(t.$gMessage({title:"发表成功",duration:2e3}),t.$router.push("/home/mood")):t.$gMessage({title:"发表失败",duration:2e3,type:"error"})}))}}},n=s,d=(i("0c31"),i("2877")),c=Object(d["a"])(n,o,a,!1,null,"f907518c",null);e["default"]=c.exports},"75d2":function(t,e,i){}}]);
//# sourceMappingURL=chunk-285b13f7.f82bf2bb.js.map