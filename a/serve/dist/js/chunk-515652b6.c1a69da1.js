(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-515652b6"],{8418:function(e,t,o){"use strict";var n=o("c04e"),a=o("9bf2"),s=o("5c6c");e.exports=function(e,t,o){var r=n(t);r in e?a.f(e,r,s(0,o)):e[r]=o}},"8a35":function(e,t,o){},"99af":function(e,t,o){"use strict";var n=o("23e7"),a=o("d039"),s=o("e8b5"),r=o("861d"),c=o("7b0b"),i=o("50c4"),d=o("8418"),l=o("65f0"),u=o("1dde"),g=o("b622"),h=o("2d00"),m=g("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",v=h>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),k=u("concat"),w=function(e){if(!r(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)},C=!v||!k;n({target:"Array",proto:!0,forced:C},{concat:function(e){var t,o,n,a,s,r=c(this),u=l(r,0),g=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?r:arguments[t],w(s)){if(a=i(s.length),g+a>p)throw TypeError(f);for(o=0;o<a;o++,g++)o in s&&d(u,g,s[o])}else{if(g>=p)throw TypeError(f);d(u,g++,s)}return u.length=g,u}})},dd7b:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"login-box positionCenter"},[e._m(0),o("div",{staticClass:"login-box-form text-left"},[o("div",{staticClass:"login-box-form-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),o("p",[e._v(e._s(e.usernameMsg))])]),o("div",{staticClass:"login-box-form-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("p",[e._v(e._s(e.passwordMsg))])]),o("div",{staticClass:"login-box-form-input"},[o("div",{staticClass:"login-box-form-checkout d-flex jc-between ai-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.checkcode,expression:"checkcode"}],attrs:{type:"number",placeholder:"验证码"},domProps:{value:e.checkcode},on:{input:function(t){t.target.composing||(e.checkcode=t.target.value)}}}),o("canvas",{ref:"loginCheckout",attrs:{id:"loginCheckout"},on:{click:e.handleLoginCheckCode}},[e._v("当前浏览器不支持canvas，请更换浏览器后再试")])]),o("p",[e._v(e._s(e.checkcodeMsg))])]),o("div",{staticClass:"login-box-form-button  text-center",on:{click:e.handleClickLogin}},[e._v("登录")]),o("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.$router.push("/regist")}}},[e._v("还未注册?")])])])])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-box-title"},[o("h2",[e._v("LOGIN")]),o("h4",[e._v("登录")])])}],s=(o("99af"),{data:function(){return{randomNum:"",username:"",password:"",checkcode:"",usernameMsg:"",passwordMsg:"",checkcodeMsg:""}},methods:{handleLoginCheckCode:function(){var e=this,t=e.$refs.loginCheckout,o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.font="60px bold 黑体",o.fillStyle="#fff",o.textAlign="center",o.textBaseline="middle",e.randomNum=Math.floor(9e3*Math.random()+1e3),o.fillText(e.randomNum,t.width/2,t.height/2)},handleClickLogin:function(){var e=this,t=/^[0-9a-zA-Z]{6,16}$/,o=/^[\u0391-\uFFE50-9a-zA-Z]{2,10}$/;return o.test(e.username)?(e.usernameMsg="",t.test(e.password)?(e.passwordMsg="",e.randomNum!=e.checkcode?(e.checkcodeMsg="验证码错误!",e.handleLoginCheckCode(),!1):(e.checkcodeMsg="",e.handleLoginCheckCode(),void e.$http.get("/login?username=".concat(e.username,"&password=").concat(e.password)).then((function(t){console.log(t),t.data.flag?(e.$gMessage({title:t.data.msg,duration:2e3,type:"success"}),localStorage.setItem("tyqUser",JSON.stringify(t.data.res[0])),localStorage.setItem("tyqToken",t.data.token),e.$router.push("/home")):e.$gMessage({title:t.data.msg,duration:2e3,type:"error"})})))):(e.passwordMsg="密码为长度6-16位的英文数字!",!1)):(e.usernameMsg="用户名为长度2-10位的汉字英文数字!",!1)}},created:function(){},mounted:function(){var e=this;e.handleLoginCheckCode()}}),r=s,c=(o("fa18"),o("2877")),i=Object(c["a"])(r,n,a,!1,null,"4eed830e",null);t["default"]=i.exports},fa18:function(e,t,o){"use strict";o("8a35")}}]);
//# sourceMappingURL=chunk-515652b6.c1a69da1.js.map