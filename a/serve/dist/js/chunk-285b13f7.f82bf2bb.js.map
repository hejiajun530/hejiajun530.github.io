{"version":3,"sources":["webpack:///./src/views/me/music.vue?af02","webpack:///./src/views/me/music.vue?f48f","webpack:///src/views/me/music.vue","webpack:///./src/views/me/music.vue?2fcb","webpack:///./src/views/me/music.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","model","expression","attrs","domProps","on","$event","target","composing","$set","handleGetUploadList","text","_e","handleGetUploadListImg","handleClickUploadMusic","staticRenderFns","components","upload","data","title","auther","content","created","mounted","methods","console","log","file","formData","append","get","$http","post","then","res","url","$gMessage","duration","type","affectedRows","$router","push","component"],"mappings":"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","file":"js/chunk-285b13f7.f82bf2bb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=style&index=0&id=f907518c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music text-left\"},[_c('h3',{staticClass:\"positionTopLeft me-title\"},[_vm._v(\"上传歌曲\")]),_c('div',{staticClass:\"info-edit d-flex flex-column\"},[_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"歌曲名称\")]),_c('div',{staticClass:\"info-edit-item-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.title),expression:\"model.title\"}],staticClass:\"me-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.model.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model, \"title\", $event.target.value)}}})])]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"演唱者\")]),_c('div',{staticClass:\"info-edit-item-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.auther),expression:\"model.auther\"}],staticClass:\"me-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入个性标签\"},domProps:{\"value\":(_vm.model.auther)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model, \"auther\", $event.target.value)}}})])]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"歌曲文件\")]),_c('div',{staticClass:\"info-edit-item-content d-flex jc-start ai-center\"},[_c('g-upload',{attrs:{\"type\":\"2\"},on:{\"g-uploadList\":_vm.handleGetUploadList}})],1)]),_c('div',{staticClass:\"info-edit-item\"},[_c('div',{staticClass:\"info-edit-item-label\"},[_vm._v(\"歌曲封面\")]),_c('div',{staticClass:\"info-edit-item-content d-flex jc-start ai-center\"},[(_vm.model && _vm.model.text)?_c('img',{staticClass:\"avator\",attrs:{\"src\":_vm.model.text}}):_vm._e(),_c('g-upload',{on:{\"g-uploadList\":_vm.handleGetUploadListImg}})],1)]),_c('div',{staticClass:\"info-edit-item\"},[_c('button',{staticClass:\"me-button pointSB\",on:{\"click\":_vm.handleClickUploadMusic}},[_vm._v(\"提交\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"music text-left\">\r\n    <h3 class=\"positionTopLeft me-title\">上传歌曲</h3>\r\n    <div class=\"info-edit d-flex flex-column\">\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">歌曲名称</div>\r\n        <div class=\"info-edit-item-content\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"model.title\"\r\n            placeholder=\"请输入用户名\"\r\n            class=\"me-input\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">演唱者</div>\r\n        <div class=\"info-edit-item-content\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"model.auther\"\r\n            placeholder=\"请输入个性标签\"\r\n            class=\"me-input\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">歌曲文件</div>\r\n        <div class=\"info-edit-item-content d-flex jc-start ai-center\">\r\n          <g-upload\r\n            @g-uploadList=\"handleGetUploadList\"\r\n            type=\"2\"\r\n          ></g-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <div class=\"info-edit-item-label\">歌曲封面</div>\r\n        <div class=\"info-edit-item-content d-flex jc-start ai-center\">\r\n          <img\r\n            :src=\"model.text\"\r\n            v-if=\"model && model.text\"\r\n            class=\"avator\"\r\n          >\r\n          <g-upload @g-uploadList=\"handleGetUploadListImg\"></g-upload>\r\n        </div>\r\n      </div>\r\n      <div class=\"info-edit-item\">\r\n        <button\r\n          class=\"me-button pointSB\"\r\n          @click=\"handleClickUploadMusic\"\r\n        >提交</button>\r\n      </div>\r\n    </div>\r\n    <!-- 测试 -->\r\n    <!-- <musiclist :musiclist=\"musiclist\"></musiclist>\r\n    <pageing\r\n      :num=\"total\"\r\n      @g-getpage=\"handleClickChangePage\"\r\n    ></pageing> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import pageing from '@/components/pageing/index';\r\n// import musiclist from '../musiclist/index';\r\nimport upload from '@/components/upload/index';\r\n// import mixin from '@/mixins';\r\nexport default {\r\n  // mixins: [mixin],\r\n  components: {\r\n    'g-upload': upload\r\n    // musiclist,\r\n    // pageing\r\n  },\r\n  data() {\r\n    return {\r\n      model: {\r\n        title: '',\r\n        auther: '',\r\n        content: '',\r\n        text: ''\r\n      }\r\n      // musiclist: [],\r\n      // query: {\r\n      //   page: 1,\r\n      //   num: 3\r\n      // },\r\n      // total: 0\r\n    };\r\n  },\r\n  created() {\r\n    const _self = this;\r\n    // _self.handleClickChangePage('1');\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // 获取upload的数据\r\n    handleGetUploadList(file) {\r\n      var _self = this;\r\n      console.log(file);\r\n      let formData = new FormData();\r\n      formData.append('file', file);\r\n      console.log(formData.get('file'), '----------');\r\n      _self.$http.post('/upload', formData).then(res => {\r\n        console.log(res.data.url);\r\n        _self.$set(_self.model, 'content', res.data.url);\r\n      });\r\n    },\r\n    // 获取upload上传图片的数据\r\n    handleGetUploadListImg(file) {\r\n      var _self = this;\r\n      console.log(file);\r\n      let formData = new FormData();\r\n      formData.append('file', file);\r\n      console.log(formData.get('file'), '----------');\r\n      _self.$http.post('/upload', formData).then(res => {\r\n        console.log(res.data.url);\r\n        _self.$set(_self.model, 'text', res.data.url);\r\n      });\r\n    },\r\n    // 上传音乐\r\n    handleClickUploadMusic() {\r\n      const _self = this;\r\n      if (!_self.model.title || !_self.model.auther || !_self.model.content) {\r\n        _self.$gMessage({\r\n          title: '不能为空',\r\n          duration: 2000,\r\n          type: 'error'\r\n        });\r\n        return false;\r\n      }\r\n      console.log(_self.model);\r\n      // return false;\r\n      _self.$http.post('/addMusic', _self.model).then(res => {\r\n        console.log(res);\r\n        if (res.data.res.affectedRows) {\r\n          _self.$gMessage({\r\n            title: '发表成功',\r\n            duration: 2000\r\n          });\r\n          _self.$router.push('/home/mood');\r\n        } else {\r\n          _self.$gMessage({\r\n            title: '发表失败',\r\n            duration: 2000,\r\n            type: 'error'\r\n          });\r\n        }\r\n      });\r\n    }\r\n    // 获取音乐列表\r\n    // handleClickChangePage(num) {\r\n    //   const _self = this;\r\n    //   _self.$set(_self.query, 'page', num);\r\n    //   _self.$http.post('/getMusicList', _self.query).then(res => {\r\n    //     _self.musiclist = res.data.res;\r\n    //     if (_self.musiclist[0].total) {\r\n    //       _self.total = Math.ceil(_self.musiclist[0].total / _self.query.num);\r\n    //     }\r\n    //     console.log(_self.musiclist, 'musiclist');\r\n    //   });\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.music {\r\n  position: relative;\r\n  padding: 3.125rem 0 0 0;\r\n}\r\n.avator {\r\n  height: 5rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music.vue?vue&type=template&id=f907518c&scoped=true&\"\nimport script from \"./music.vue?vue&type=script&lang=js&\"\nexport * from \"./music.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music.vue?vue&type=style&index=0&id=f907518c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f907518c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}