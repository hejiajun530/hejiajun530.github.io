1  mysql 安装
安装教程链接: https://www.cnblogs.com/winton-nfs/p/11524007.html
  1.1 以管理员身份打开命令行
  1.2 转到mysql下的bin目录下   如: cd  C:\mysql\bin
  1.3 安装mysql的服务: mysqld --install  成功会提示:Service successfully installed.
    我遇到的问题，提示系统缺少了文件  vcruntime140_1.dll。  从本地复制该文件到服务器中即可，目录C:\Windows\System32
  1.4 初始化mysql，在这里会产生一个初始化密码，在最后面会显示，后面登录时需要用到，一定要记住   初始化mysql命令:mysqld --initialize --console
  1.5 开启mysql服务: net start mysql
  1.6 登录验证: mysql -u root -p;  然后输入初始化时产生的密码。一定要先开启mysql服务
  1.7 修改密码： alter user 'root'@'localhost' identified by '密码';
    在服务器中，我安装的时8.0的版本，密码这里不兼容，命令应该为 alter user 'root'@'localhost' identified with mysql_native_password by '密码';
    如果修改后不起效，一定要使用: flush privileges;来刷新  如果不用这个修改密码，那么在使用node连接mysql时，会报错: Rethrow non-MySQL errors; MYSQL：ER_NOT_SUPPORTED_AUTH_MODE:Client does not support authentication protocol ..
  1.8 设置系统的全局变量
    1.8.1 点击"我的电脑"-->"属性"-->''高级系统设置''-->''环境变量'',接下来如下图所操作
    1.8.2 点击"系统变量"下面的"新建"，变量名:mysql   变量值:C:\mysql。最后保存
    1.8.3 找到"系统变量"里的"Path",在最后面添加 C:\mysql\bin。最后保存就成功了
  1.9 win+R 输入cmd，然后输入mysql登录命令就可以登录使用了

2  云服务器中启动项目，但是刷新浏览器就会出现 "connot get /xxx" 的问题
  在node中下载了 "connect-history-api-fallback" 然后在node中使用即可
  npm i --save connect-history-api-fallback
  var history = require('connect-history-api-fallback')
  app.use(history())

3  登录token
  在node中需要用到"jsonwebtoken"组件 下载改模块:npm i jsonwebtoken
  3.1 在node中全局生成一个密钥  用于用户的token，index.js: app.set('secret', 'asfasdfgsdagdsfg')
  3.2 在登录接口中，使用用户的"id"和全局设置的"secret"形成token，返回给前端  const token = jwt.sign({ id: result[0].userid }, app.get('secret'))
  3.3 前端接收到token，保存到本地   localStorage.setItem('tyqToken', res.data.token);
  3.4 每一个接口都需要把token写到请求头中，所以在请求拦截中写下这段代码
  http.interceptors.request.use(config => {
    if (localStorage.tyqToken) {
      config.headers.Authorization = 'Bearer ' + (localStorage.tyqToken || '')
    }
    return config
  }, err => {
    return Promise.reject(err)
  })
  3.5 写一个类似于过滤的方法"auth"，在每一个接口请求中先判断是否存在token，从token中提取id，并且判断id是否存在
    3.5.1 接收token，const token = (req.headers.authorization || '').toString().split(' ').pop()
    3.5.2 提取id，let { id } = jwt.verify(token, req.app.get('secret'))
    3.5.3 判断id是否存在
      cnt.query('select * from user where userid = "' + id + '"', function (err, result) {
        if (err) return console.log(err.toString());
        // console.log(result)
        if (!result) {
          return res.status(401).send({
            flag: false,
            msg: '请先登录!'
          })
        }
      })
    3.5.4 没有阻断就往后执行 await next()
  3.6 调用这个过滤方法"auth"
    router.get('/test', auth, async (req, res) => {
      res.send('true');
    })

5  多次重复点击同一个路由,会报错   NavigationDuplicated: Avoided redundant navigation to current location: "/home/story".
  解决办法: 在router.js 中的 Vue.use(VueRouter); 后面加上这段代码
  //获取原型对象上的push函数
  const originalPush = VueRouter.prototype.push
  //修改原型对象中的push方法
  VueRouter.prototype.push = function push(location) {
    return originalPush.call(this, location).catch(err => err)
  }

6  域名绑定网站
  腾讯云域名解析，在域名解析列表中添加记录，主机记录(列)填写www或不填，记录值(列)填写云服务器的IP地址，最后在宝塔中找到pm2管理里的项目，点击映射后，先选择项目地址，然后在域名中填写域名(www.tyq121.top)